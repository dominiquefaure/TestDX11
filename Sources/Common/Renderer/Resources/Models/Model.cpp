#include "Model.h"

//------------------------------------------------------------------------------------
Model::Model()
{
	m_mesh													=	nullptr;
	m_material												=	nullptr;
}
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
Model::~Model()
{
	m_mesh													=	nullptr;
	m_material												=	nullptr;
}
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
void Model::SetMesh( const ReferenceCountedPtr<BaseMesh>& a_mesh )
{
	m_mesh													=	a_mesh;
}
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
void Model::SetMaterial( const ReferenceCountedPtr<Material>& a_material )
{
	m_material												=	a_material;
}
//------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------
void Model::Draw( RhiGraphicContext* a_context )
{
	if( ( m_material != nullptr ) && ( m_mesh != nullptr ) )
	{
		m_material->Apply( a_context );

		m_mesh->DrawPart( 0 , a_context , m_material->GetShaderProgram() , 0 );
	}

}
//------------------------------------------------------------------------------------
